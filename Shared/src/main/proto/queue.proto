syntax = "proto3";

option java_package = "de.turboman.edit.shared.protocol";
option java_outer_classname = "ProtocolQueue";

message QueueIndexRequest { // 0x01 | 0x02
  int32 index = 10;
}

message QueueInfoResponse { // 0x01
  // Project Info
  uint32 index        = 10;
  string name         = 11;
  string timeline     = 12;
  string project_path = 13;
  string output_path  = 14;

  // Video Info
  bytes  video_preview = 20;
  uint32 video_width   = 21;
  uint32 video_height  = 22;
  float  frame_rate    = 23;
  string video_codec   = 24;

  // Audio Info
           int32  audio_streams  = 30;
  repeated uint32 audio_channels = 31;
  repeated uint32 audio_bitrate  = 32;
  repeated uint32 audio_sampling = 33;
  repeated string audio_codec    = 34;

  // Progress
  QueueProgressResponse progress = 40;
}

message QueueProgressResponse { // 0x02
  double       video_progress = 10;
  double       audio_progress = 11;
  QUEUE_STATUS status         = 12;
  string       error_message  = 13;
}

enum QUEUE_STATUS {
  WAITING  = 0;
  RUNNING  = 1;
  CANCELED = 2;
  ERROR    = 3;
}